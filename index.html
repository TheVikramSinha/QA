<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Timed QA (Quality Assurance) Assessment</title>
    <style>
        /* CSS for Typeform-like UI */
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background-color: #f4f7f6;
            color: #333;
            transition: background-color 0.5s;
        }
        #quiz-container {
            background: white;
            padding: 40px 60px;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            width: 90%;
            max-width: 700px;
            min-height: 400px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }
        .question-slide {
            display: none;
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
        }
        .question-slide.active {
            display: block;
            opacity: 1;
        }
        h2 {
            font-size: 1.8em;
            color: #333;
            margin-bottom: 10px;
        }
        .scenario-text {
            font-size: 1.1em;
            margin-bottom: 25px;
            line-height: 1.5;
            padding: 15px;
            background-color: #eef3f5;
            border-left: 5px solid #28a745; /* Green for QA */
            border-radius: 4px;
        }
        .option-button {
            display: block;
            width: 100%;
            padding: 15px 20px;
            margin-bottom: 15px;
            border: 2px solid #ccc;
            border-radius: 8px;
            background: white;
            font-size: 1.05em;
            text-align: left;
            cursor: pointer;
            transition: all 0.2s;
            line-height: 1.4;
        }
        .option-button:hover {
            border-color: #28a745;
            background-color: #f5fff8;
        }
        .option-button.selected {
            background-color: #28a745;
            color: white;
            border-color: #28a745;
        }
        #navigation {
            display: flex;
            justify-content: flex-end;
            align-items: center;
            margin-top: 30px;
        }
        .nav-button {
            padding: 10px 20px;
            font-size: 1em;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        #next-button {
            background-color: #007bff;
            color: white;
        }
        #next-button:disabled {
            background-color: #ccc;
            cursor: not-allowed;
        }
        #result-screen {
            text-align: center;
            padding: 50px 0;
        }
        #result-screen h2 {
            font-size: 2.5em;
            color: #28a745;
        }
        .progress-bar {
            height: 8px;
            background: #e9ecef;
            border-radius: 4px;
            margin-bottom: 10px;
            overflow: hidden;
        }
        .progress-fill {
            height: 100%;
            background: #28a745;
            width: 0%;
            transition: width 0.3s ease-in-out;
        }
        #timer-display {
            font-size: 1.2em;
            font-weight: bold;
            color: #dc3545; /* Red color for urgency */
            text-align: right;
            margin-bottom: 20px;
        }
        /* Style for the start screen */
        #start-screen {
            text-align: center;
            padding: 50px 20px;
        }
        #start-screen h1 {
            color: #28a745;
            font-size: 2.5em;
        }
        #start-button {
            background-color: #28a745;
            color: white;
            padding: 15px 40px;
            font-size: 1.4em;
            border-radius: 8px;
            margin-top: 30px;
            cursor: pointer;
            border: none;
            transition: background-color 0.2s;
        }
        #start-button:hover {
            background-color: #1e7e34;
        }
        .instruction-item {
            text-align: left;
            margin-bottom: 15px;
            font-size: 1.1em;
        }
        .important-note {
            color: #dc3545;
            font-weight: bold;
        }
    </style>
</head>
<body>

<div id="quiz-container">
    
    <div id="start-screen">
        <h1>üîé QA (Quality Assurance) Assessment</h1>
        <p style="margin-top: 20px; font-size: 1.2em;">Welcome to the timed technical assessment. Please read the instructions carefully before starting.</p>
        
        <hr style="margin: 25px 0;">

        <div class="instruction-item">
            ‚úÖ **Total Questions:** 20 questions covering testing methodology, automation, performance, and API testing.
        </div>
        <div class="instruction-item">
            ‚è±Ô∏è **Time Limit:** You have **30 seconds** per question.
        </div>
        <div class="instruction-item important-note">
            ‚ö†Ô∏è **Critical:** The timer will start immediately upon clicking 'Start Test' and questions will auto-advance when time runs out. **There is no going back.**
        </div>

        <button id="start-button" onclick="startQuiz()">Start Test</button>
    </div>
    
    <div id="quiz-interface" style="display: none;">
        <div class="progress-bar">
            <div class="progress-fill" id="progress-fill"></div>
        </div>
        <div id="timer-display">Time Left: <span id="time-left">30</span>s</div>
        
        <div id="quiz-content">
            </div>
        
        <div id="result-screen" style="display: none;">
            <h2>Assessment Complete! üéâ</h2>
            <p style="font-size: 1.2em;">You have successfully completed the QA Assessment.</p>
            <p style="font-size: 1.5em; margin-top: 20px;">Your Score:</p>
            <p id="final-score" style="font-size: 3em; font-weight: bold; color: #28a745;">--/--</p>
            <p id="performance-feedback" style="font-size: 1.1em; color: #555;"></p>
            <button class="nav-button" onclick="window.location.reload()">Retake Assessment</button>
        </div>

        <div id="navigation">
            <button id="next-button" class="nav-button" disabled>Next ‚Üí</button>
        </div>
    </div>
</div>

<script>
    // Utility function to shuffle an array (Fisher-Yates)
    function shuffleArray(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[i], array[j]];
        }
        return array;
    }

    const initialQuestions = [
        {
            scenario: "You are testing a login form where the username field accepts between 6 and 15 characters, inclusive. It must start with an alphabet character.",
            question: "Which test design technique focuses on testing the minimum (6) and maximum (15) limits, and one value just outside them (5 and 16)?",
            options: [
                "**Boundary Value Analysis (BVA)**",
                "Equivalence Partitioning (EP)",
                "State Transition Testing",
                "Decision Table Testing"
            ],
            answerText: "**Boundary Value Analysis (BVA)**"
        },
        {
            scenario: "A feature requires testing a critical business rule where the outcome depends entirely on two boolean conditions (e.g., Is User Admin? and Is Account Active?).",
            question: "Which test design technique is most suitable for ensuring 100% coverage of all possible combinations of conditions and resultant actions?",
            options: [
                "Smoke Testing",
                "**Decision Table Testing**",
                "Exploratory Testing",
                "Path Testing"
            ],
            answerText: "**Decision Table Testing**"
        },
        {
            scenario: "Your team is practicing **Shift-Left** testing in the CI/CD pipeline. The goal is to catch bugs before deployment.",
            question: "Which type of testing is most effective to run in the CI pipeline (immediately after the build) to provide early feedback on functionality and prevent merging broken code?",
            options: [
                "**Unit Tests and Integration Tests**",
                "User Acceptance Testing (UAT)",
                "Stress Testing",
                "Manual Exploratory Testing"
            ],
            answerText: "**Unit Tests and Integration Tests**"
        },
        {
            scenario: "You have automated a series of critical end-to-end tests using Selenium, but they frequently fail unpredictably due to minor timing delays or element loading issues.",
            question: "What is the term for this type of unreliable test behavior, and what is the common mitigation technique?",
            options: [
                "**Flakiness; mitigated using explicit waits or fluent waits.**",
                "Regression; mitigated by deleting the test.",
                "Deadlock; mitigated by running tests in parallel.",
                "Isolation failure; mitigated by mocking dependencies."
            ],
            answerText: "**Flakiness; mitigated using explicit waits or fluent waits.**"
        },
        {
            scenario: "You are preparing a test plan for an API endpoint that processes financial transactions. You need to ensure the API response adheres to a strict JSON structure.",
            question: "Which type of testing, often automated using tools like Postman or REST Assured, specifically verifies the structure and datatype of the API's output?",
            options: [
                "Load Testing",
                "**Schema Validation Testing**",
                "Cross-browser Testing",
                "Usability Testing"
            ],
            answerText: "**Schema Validation Testing**"
        },
        {
            scenario: "After a major bug fix is deployed, you execute a small subset of crucial, high-level tests to ensure the core functionalities (e.g., login, checkout) are working.",
            question: "What is the term for this quick and high-priority testing that verifies the build is stable enough for deeper testing?",
            options: [
                "**Smoke Testing**",
                "Acceptance Testing",
                "System Testing",
                "Beta Testing"
            ],
            answerText: "**Smoke Testing**"
        },
        {
            scenario: "The development team frequently refactors internal code logic but doesn't introduce new features. You need to ensure existing features remain unbroken.",
            question: "Which type of testing should be executed after every code change to confirm that recent modifications have not inadvertently broken previous functionality?",
            options: [
                "**Regression Testing**",
                "Ad-hoc Testing",
                "Alpha Testing",
                "Volume Testing"
            ],
            answerText: "**Regression Testing**"
        },
        {
            scenario: "You are simulating a scenario where 5,000 users concurrently try to register on your website within a 5-minute period to check system resilience.",
            question: "Which category of non-functional testing are you performing?",
            options: [
                "**Load Testing / Stress Testing**",
                "Security Testing",
                "Usability Testing",
                "Accessibility Testing"
            ],
            answerText: "**Load Testing / Stress Testing**"
        },
        {
            scenario: "A developer claims a feature is fixed. As a QA engineer, you reject the fix because the bug still exists under slightly different conditions. The bug report is reopened.",
            question: "What is the term for this action of verifying the reported defect is truly fixed?",
            options: [
                "**Re-testing** (or Confirmation Testing)",
                "System Testing",
                "Sanity Testing",
                "Exploratory Testing"
            ],
            answerText: "**Re-testing** (or Confirmation Testing)"
        },
        {
            scenario: "You are testing an Angular single-page application (SPA). You want to write automated tests that simulate user interaction (clicks, input) directly in the browser.",
            question: "Which popular framework is commonly used in the JavaScript ecosystem for automated **End-to-End (E2E)** browser testing?",
            options: [
                "**Cypress or Playwright**",
                "Jest",
                "Mocha",
                "JUnit"
            ],
            answerText: "**Cypress or Playwright**"
        },
        {
            scenario: "You need to measure how quickly the backend API retrieves data from the database, specifically focusing on the time between the request being sent and the first byte of the response being received.",
            question: "Which performance metric is this measuring?",
            options: [
                "Throughput",
                "**Response Time / Latency**",
                "Memory Leakage",
                "Code Coverage"
            ],
            answerText: "**Response Time / Latency**"
        },
        {
            scenario: "A customer reports that they successfully logged into the website, but were redirected to a page intended for guest users.",
            question: "What type of testing, which checks the entire flow across multiple components and systems, would have been most effective at catching this bug?",
            options: [
                "**End-to-End (E2E) Testing**",
                "Unit Testing",
                "White-box Testing",
                "Mutation Testing"
            ],
            answerText: "**End-to-End (E2E) Testing**"
        },
        {
            scenario: "You are testing a complex financial module. You define inputs, expected outputs, and the business rules in a plain, human-readable format that can be directly executed as tests.",
            question: "What is the term for this framework/methodology that bridges the communication gap between business users and technical testers?",
            options: [
                "**Behavior-Driven Development (BDD)** (e.g., using Gherkin)",
                "Test-Driven Development (TDD)",
                "Agile Scrum",
                "Waterfall Model"
            ],
            answerText: "**Behavior-Driven Development (BDD)** (e.g., using Gherkin)"
        },
        {
            scenario: "During a penetration test, the security team reports that input fields are vulnerable to scripts being injected and executed in the browser of other users.",
            question: "Which common web vulnerability is this describing?",
            options: [
                "**Cross-Site Scripting (XSS)**",
                "SQL Injection",
                "Cross-Site Request Forgery (CSRF)",
                "Buffer Overflow"
            ],
            answerText: "**Cross-Site Scripting (XSS)**"
        },
        {
            scenario: "You want to organize your automated tests into reusable components that map directly to the user interface, improving maintainability and reducing code duplication.",
            question: "Which popular design pattern is used in UI automation frameworks (like Selenium/Cypress) to achieve this goal?",
            options: [
                "Factory Pattern",
                "Singleton Pattern",
                "**Page Object Model (POM)**",
                "Observer Pattern"
            ],
            answerText: "**Page Object Model (POM)**"
        },
        {
            scenario: "A testing effort focuses on verifying that the software continues to work correctly after a predetermined time period or after processing a very large amount of data.",
            question: "Which specific type of non-functional testing is this?",
            options: [
                "Recovery Testing",
                "**Endurance Testing (or Soak Testing)**",
                "Usability Testing",
                "Interface Testing"
            ],
            answerText: "**Endurance Testing (or Soak Testing)**"
        },
        {
            scenario: "You are testing a mobile application feature on an iPhone 15 running iOS 17. The same test is run on an older Samsung Galaxy S9 running Android 10.",
            question: "What category of testing is being performed here?",
            options: [
                "Localization Testing",
                "Usability Testing",
                "**Compatibility Testing (Device and OS)**",
                "Security Testing"
            ],
            answerText: "**Compatibility Testing (Device and OS)**"
        },
        {
            scenario: "A bug is found during production monitoring that was missed during the development phase. You need to update the existing test suite to prevent this bug from recurring.",
            question: "What is the name given to the practice of creating a new automated test specifically to capture a production bug that was previously missed?",
            options: [
                "**Post-mortem Test Case (or Defect Test Case)**",
                "Exploratory Test",
                "Acceptance Test",
                "Stress Test"
            ],
            answerText: "**Post-mortem Test Case (or Defect Test Case)**"
        },
        {
            scenario: "You are testing the functionality of a `FOR` loop in the code by designing test cases to execute every statement and every branch (both TRUE and FALSE outcomes) at least once.",
            question: "What is the name of the white-box testing technique that achieves this level of coverage?",
            options: [
                "Boundary Value Analysis",
                "Equivalence Partitioning",
                "**Decision Coverage (or Branch Coverage)**",
                "Loop Coverage"
            ],
            answerText: "**Decision Coverage (or Branch Coverage)**"
        },
        {
            scenario: "You are setting up an automation environment. You need a tool for managing test data, linking test cases to requirements, and tracking test execution progress.",
            question: "Which category of QA tools is designed for this comprehensive management and reporting function?",
            options: [
                "Performance Testing Tools (e.g., JMeter)",
                "Static Analysis Tools (e.g., SonarQube)",
                "**Test Management Tools (e.g., TestRail, Zephyr)**",
                "Browser Emulation Tools"
            ],
            answerText: "**Test Management Tools (e.g., TestRail, Zephyr)**"
        }
    ];

    // --- Data Preparation: Match Answer Index to Randomized Options ---
    const shuffledInitialQuestions = shuffleArray(initialQuestions);
    const questions = shuffledInitialQuestions.map(q => {
        const indexedOptions = q.options.map((text) => ({ text: text, isCorrect: text === q.answerText }));
        const shuffledOptions = shuffleArray(indexedOptions);
        const newAnswerIndex = shuffledOptions.findIndex(opt => opt.isCorrect);
        const finalOptions = shuffledOptions.map(opt => opt.text);
        return {
            scenario: q.scenario, // Keeping scenario text for question context, but not calling it out as such
            question: q.question,
            options: finalOptions,
            answer: newAnswerIndex
        };
    });

    let currentQuestionIndex = 0;
    let userAnswers = new Array(questions.length).fill(null);
    let timerInterval;
    const TIME_LIMIT = 30; // Seconds per question

    const startScreen = document.getElementById('start-screen');
    const quizInterface = document.getElementById('quiz-interface');
    const quizContent = document.getElementById('quiz-content');
    const resultScreen = document.getElementById('result-screen');
    const nextButton = document.getElementById('next-button');
    const progressFill = document.getElementById('progress-fill');
    const timeLeftSpan = document.getElementById('time-left');
    const totalQuestions = questions.length;

    // --- Core Function to Start Quiz ---
    window.startQuiz = function() {
        startScreen.style.display = 'none';
        quizInterface.style.display = 'block';
        renderQuestion(currentQuestionIndex);
    }

    // --- Timer Functions ---
    function startTimer() {
        clearInterval(timerInterval);
        let timeRemaining = TIME_LIMIT;
        timeLeftSpan.textContent = timeRemaining;

        timerInterval = setInterval(() => {
            timeRemaining--;
            timeLeftSpan.textContent = timeRemaining;

            if (timeRemaining <= 0) {
                clearInterval(timerInterval);
                if (currentQuestionIndex < totalQuestions - 1) {
                    currentQuestionIndex++;
                    renderQuestion(currentQuestionIndex);
                } else {
                    showResults();
                }
            }
        }, 1000);
    }

    // --- Question Rendering ---
    function renderQuestion(index) {
        clearInterval(timerInterval);
        document.querySelectorAll('.question-slide').forEach(q => q.classList.remove('active'));

        let questionElement = document.getElementById(`q-${index}`);

        if (!questionElement) {
            const qData = questions[index];
            questionElement = document.createElement('div');
            questionElement.className = 'question-slide';
            questionElement.id = `q-${index}`;

            let optionsHtml = qData.options.map((option, optIndex) => `
                <button class="option-button" data-question-index="${index}" data-option-index="${optIndex}">
                    ${option}
                </button>
            `).join('');

            questionElement.innerHTML = `
                <h2>Question ${index + 1} of ${totalQuestions}</h2>
                <div class="scenario-text">${qData.scenario}</div>
                <p style="font-weight: bold;">${qData.question}</p>
                <div class="options-group">${optionsHtml}</div>
            `;
            quizContent.appendChild(questionElement);

            questionElement.querySelectorAll('.option-button').forEach(button => {
                button.addEventListener('click', handleOptionClick);
            });
        }
        
        setTimeout(() => { questionElement.classList.add('active'); }, 10); 
        
        // Always restart the timer when moving to a new question
        startTimer();

        updateNavigation();
        updateProgress();
        highlightSelectedAnswer(index);
    }

    // --- Answer Handling and Navigation Updates ---

    function handleOptionClick(event) {
        const button = event.target.closest('.option-button');
        const qIndex = parseInt(button.dataset.questionIndex);
        const oIndex = parseInt(button.dataset.optionIndex);
        userAnswers[qIndex] = oIndex;
        const optionsGroup = button.closest('.options-group');
        optionsGroup.querySelectorAll('.option-button').forEach(btn => btn.classList.remove('selected'));
        button.classList.add('selected');
        updateNavigation(); 
    }

    function highlightSelectedAnswer(index) {
        const selectedOption = userAnswers[index];
        const currentSlide = document.getElementById(`q-${index}`);
        if (currentSlide) {
            currentSlide.querySelectorAll('.option-button').forEach((btn, optIndex) => {
                btn.classList.remove('selected');
                if (optIndex === selectedOption) {
                    btn.classList.add('selected');
                }
            });
        }
    }

    function updateNavigation() {
        const isAnswered = userAnswers[currentQuestionIndex] !== null; 

        if (currentQuestionIndex < totalQuestions - 1) {
            nextButton.textContent = 'Next ‚Üí';
            nextButton.disabled = !isAnswered; 
            nextButton.onclick = () => { 
                if (isAnswered) {
                    clearInterval(timerInterval);
                    currentQuestionIndex++; 
                    renderQuestion(currentQuestionIndex);
                } 
            };
        } else {
            nextButton.textContent = 'Finish & Score';
            nextButton.disabled = !isAnswered;
            nextButton.onclick = () => { 
                if (isAnswered) {
                    clearInterval(timerInterval);
                    showResults(); 
                }
            };
        }
    }

    function updateProgress() {
        const answeredCount = userAnswers.filter(a => a !== null).length;
        const progress = (answeredCount / totalQuestions) * 100;
        progressFill.style.width = `${progress}%`;
    }

    function calculateScore() {
        let score = 0;
        questions.forEach((q, index) => {
            if (userAnswers[index] === q.answer) {
                score++;
            }
        });
        return score;
    }

    function showResults() {
        clearInterval(timerInterval);
        const finalScore = calculateScore();
        const percentage = Math.round((finalScore / totalQuestions) * 100);
        
        let feedback = '';
        if (percentage >= 95) {
            feedback = "Expert! Exceptional mastery of modern testing methodologies, automation, and quality engineering practices.";
        } else if (percentage >= 85) {
            feedback = "Very Strong! Solid grasp of core testing concepts, test design techniques, and automation tools.";
        } else if (percentage >= 75) {
            feedback = "Good Foundation! You understand fundamental QA principles. Focus on deeper experience in performance testing and automation frameworks.";
        } else {
            feedback = "Further study is recommended in test design techniques (like BVA/EP) and defect lifecycle management.";
        }

        quizContent.style.display = 'none';
        document.getElementById('navigation').style.display = 'none';
        document.getElementById('timer-display').style.display = 'none';

        progressFill.style.width = '100%';
        resultScreen.style.display = 'block';
        document.getElementById('final-score').textContent = `${finalScore} / ${totalQuestions}`;
        document.getElementById('performance-feedback').textContent = feedback;
    }
</script>

</body>
</html>
